
{"id":"ce248d29-0ca1-4d5f-b541-f32404fd805e","name":"Parse CSV and make assertions","description":null,"auth":null,"events":[{"listen":"prerequest","script":{"id":"0709dd3b-8297-426e-bbf7-ff35f24d9fb4","type":"text\/javascript","exec":[""]}},{"listen":"test","script":{"id":"7cda51be-fc57-4ee5-94aa-10e9680ed4f9","type":"text\/javascript","exec":[""]}}],"variables":[{"key":"foo","value":"bar","description":"","type":"text","disabled":false}],"order":["651dfbcb-2b87-460c-81b1-97b7d3e4c7e2","7e77111b-b882-4967-ba07-1fe6014c5836"],"folders_order":[],"folders":[],"requests":[{"id":"651dfbcb-2b87-460c-81b1-97b7d3e4c7e2","name":"Setup","url":"https:\/\/raw.githubusercontent.com\/mholt\/PapaParse\/master\/papaparse.min.js","description":"","data":null,"dataMode":"params","headerData":[],"method":"GET","pathVariableData":[],"queryParams":[],"auth":null,"events":[{"listen":"test","script":{"id":"71ee3531-790f-43a1-9cda-23c3a91299b6","type":"text\/javascript","exec":["pm.globals.set(\"PapaLibrary\", responseBody);"]}}],"folder":null,"preRequestScript":null,"tests":"pm.globals.set(\"PapaLibrary\", responseBody);","currentHelper":null,"helperAttributes":null,"collectionId":"ce248d29-0ca1-4d5f-b541-f32404fd805e","headers":"","pathVariables":{}},{"id":"7e77111b-b882-4967-ba07-1fe6014c5836","name":"SOLUTION","url":"http:\/\/www.mocky.io\/v2\/5aaadf55330000b43e2dabab","description":"","data":null,"dataMode":"params","headerData":[],"method":"GET","pathVariableData":[],"queryParams":[],"auth":null,"events":[{"listen":"test","script":{"id":"258c324c-7a68-47be-9fd5-552c26b71044","type":"text\/javascript","exec":["\/\/ 1. Setup","eval(pm.globals.get(\"PapaLibrary\"));","var Papa = this.Papa;","","\/\/ 2. Configure Papa","const parserConfig = {\t","    header: true","};","","","\/\/ 3. Parse the response body","var parsedBody = Papa.parse(responseBody, parserConfig);","console.log(parsedBody);","","\/\/ 4. Tests","pm.test(\"ABC1234 was charged properly\", function () {","    for (let invoice of parsedBody.data) {","        console.log(invoice);","        if (invoice.ResHash === 'ABC1234') {","            pm.expect(invoice.InvTotal).to.eql(\"$3,500.00\");","        }","    }","});","","","\/\/ 5. Clean-up","pm.globals.unset(\"PapaLibrary\");"]}},{"listen":"prerequest","script":{"id":"0adcf8b8-e232-4a2c-8df9-68eaf80ba5cb","type":"text\/javascript","exec":[""]}}],"folder":null,"preRequestScript":null,"tests":"\/\/ 1. Setup\neval(pm.globals.get(\"PapaLibrary\"));\nvar Papa = this.Papa;\n\n\/\/ 2. Configure Papa\nconst parserConfig = {\t\n    header: true\n};\n\n\n\/\/ 3. Parse the response body\nvar parsedBody = Papa.parse(responseBody, parserConfig);\nconsole.log(parsedBody);\n\n\/\/ 4. Tests\npm.test(\"ABC1234 was charged properly\", function () {\n    for (let invoice of parsedBody.data) {\n        console.log(invoice);\n        if (invoice.ResHash === 'ABC1234') {\n            pm.expect(invoice.InvTotal).to.eql(\"$3,500.00\");\n        }\n    }\n});\n\n\n\/\/ 5. Clean-up\npm.globals.unset(\"PapaLibrary\");","currentHelper":null,"helperAttributes":null,"collectionId":"ce248d29-0ca1-4d5f-b541-f32404fd805e","headers":"","pathVariables":{}}]}